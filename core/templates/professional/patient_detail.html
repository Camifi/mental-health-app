{% extends "professional/base.html" %}
{% load static %}

{% block content %}
<div>
    <h1>Paciente X</h1>
    <table class="table">
        <tbody>
            <!-- Nombre Completo -->
            <tr>
                <th scope="row">Nombre Completo</th>
                <td>{{ patient.user.full_name }}</td>
            </tr>
            <!-- Médico de Cabecera -->
            <tr>
                <th scope="row">Médico de Cabecera</th>
                <td>{{ patient.primary_care_physician }}</td>
            </tr>
            <!-- Experiencia con Terapia Anterior -->
            <tr>
                <th scope="row">Experiencia con Terapia Anterior</th>
                <td>{{ patient.previous_therapy_experience }}</td>
            </tr>
            <!-- Motivo de la Consulta -->
            <tr>
                <th scope="row">Motivo de la Consulta</th>
                <td>{{ patient.reason_for_therapy }}</td>
            </tr>
            <!-- Descripción de Síntomas -->
            <tr>
                <th scope="row">Descripción de Síntomas</th>
                <td>{{ patient.symptoms_description }}</td>
            </tr>
            <!-- Objetivos de la Terapia -->
            <tr>
                <th scope="row">Objetivos de la Terapia</th>
                <td>{{ patient.therapy_goals }}</td>
            </tr>
            <!-- Añade más filas según sea necesario para otros atributos -->
        </tbody>
    </table>
    <!-- <h2>Crear Sesión</h2>
    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message.text }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    <form method="post" class="formulario-sesion">
        {% csrf_token %}
       
         <label for="{{ form.session_date.id_for_label }}" class="etiqueta-campo">Fecha de sesión:</label><br>
            {{ form.session_date }}
        <div class="campo-formulario">
            <label for="id_objectives" class="etiqueta-campo">Objetivos trabajados:</label><br>
            {{ form.objectives }}
        </div>
        <div class="campo-formulario">
            <label for="id_difficulties" class="etiqueta-campo">Dificultades:</label><br>
            {{ form.difficulties }}
        </div>
        <button type="submit" class="boton-guardar">Guardar</button>
    </form> -->

    <section style="margin-top: 80px">
        <h2>Sesiones del Paciente</h2>
        <a href="{% url 'core:create_session' %}" class="btn-create">Crear nueva sesión</a>
        <div class="session-list">
        {% for session in sessions %}
        <div class="session">
            <div class="session-date">Fecha de la sesión: {{ session.session_date }}</div>
            <div class="session-objectives">Objetivo de la sesión: {{ session.objectives }}</div>
            {% if session.difficulties %}
            <div class="session-difficulties">Dificultades: {{ session.difficulties }}</div>
            {% endif %}
        </div>
        {% endfor %}
        <div class="session">
            {{ recommendation|linebreaksbr }}
        </div>
        </div>
    </section>
</div>
{% endblock %}
